"use strict";(self.webpackChunkwater_tracker=self.webpackChunkwater_tracker||[]).push([[787],{1787:(e,s,r)=>{r.r(s),r.d(s,{default:()=>j});r(2791);var a=r(8007),o=r(1686),i=r.n(o),t=r(5705),d=r(5283),l=r(9434),n=r(3359),p=r(2306),m=r(9426),w=r(7689),c=r(4905),u=r(3329);const h=a.Ry().shape({email:a.Z_().email("email is not valid").min(6,"the email must containe min six leters").max(64,"the email must containe maximum of 64 characters").required("email is required").trim().matches(/^[a-zA-Z0-9]+[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9]+$/,"email is not valid"),password:a.Z_().required("password is required").min(8,"the password must containe min of 8 characters").max(64,"the password must containe maximum of 64 characters"),repeatPassword:a.Z_().required("repeat password is required").oneOf([a.iH("password"),null],'Must match "password" field value')}),x=()=>{const e=(0,l.I0)(),s=(0,w.s0)(),{showPasswords:r,togglePasswordVisibility:a}=(0,p.r)(["password1","password2"]);return(0,u.jsx)(d.Yb,{children:(0,u.jsxs)(d.Zk,{children:[(0,u.jsx)(d.Dx,{children:"Sign Up"}),(0,u.jsx)(t.J9,{initialValues:{email:"",password:"",repeatPassword:""},onSubmit:(r,a)=>{let{email:o,password:t,repeatPassword:d}=r,{resetForm:l}=a;t===d?e((0,n.yY)({email:o,password:t})).unwrap().then((r=>{l(),e((0,c.a)(r.token)),i().Notify.success("Welcome aboard! You're now officially registered.",{timeout:1e3}),s("/")})).catch((e=>{i().Notify.failure(e,{timeout:1e3})})):i().Notify.failure("Passwords do not match",{timeout:1e3})},validationSchema:h,children:e=>{let{errors:s,touched:o}=e;return(0,u.jsxs)(t.l0,{children:[(0,u.jsx)(d.xH,{children:"Enter your email"}),(0,u.jsx)(d.II,{$error:s.email&&o.email,children:(0,u.jsx)(d.Wi,{$error:s.email&&o.email,autoComplete:"off",name:"email",type:"email",placeholder:"E-mail"})}),(0,u.jsx)(d.BD,{name:"email",component:"div"}),(0,u.jsx)(d.xH,{children:"Enter your password"}),(0,u.jsxs)(d.II,{$error:s.password&&o.password,children:[(0,u.jsx)(d.Wi,{$error:s.password&&o.password,autoComplete:"off",name:"password",type:r.password1?"text":"password",placeholder:"Password"}),(0,u.jsx)(m.S,{showPassword:r.password1,onToggle:()=>a("password1")})]}),(0,u.jsx)(d.BD,{name:"password",component:"div"}),(0,u.jsx)(d.xH,{children:"Repeat password"}),(0,u.jsxs)(d.II,{$error:s.repeatPassword&&o.repeatPassword,children:[(0,u.jsx)(d.Wi,{$error:s.repeatPassword&&o.repeatPassword,autoComplete:"off",type:r.password2?"text":"password",name:"repeatPassword",placeholder:"Repeat password"}),(0,u.jsx)(m.S,{showPassword:r.password2,onToggle:()=>a("password2")})]}),(0,u.jsx)(d.BD,{name:"repeatPassword",component:"div"}),(0,u.jsx)(d.Ck,{type:"submit",children:"Sign Up"})]})}}),(0,u.jsx)(d.EG,{to:"/signin",children:"Sign in"})]})})},j=()=>(0,u.jsx)(x,{})}}]);
//# sourceMappingURL=787.81cce9da.chunk.js.map