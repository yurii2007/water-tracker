"use strict";(self.webpackChunkwater_tracker=self.webpackChunkwater_tracker||[]).push([[787],{1787:(s,e,a)=>{a.r(e),a.d(e,{default:()=>j});a(2791);var r=a(8007),o=a(1686),t=a(5705),i=a(7689),d=a(9434),n=a(3359),l=a(4905),p=a(5007),m=a(9426),w=a(2851),c=a(5283),u=a(6314),h=a(3329);const x=r.Ry().shape({email:r.Z_().email("The email is not valid.").min(6,"The email must contain at least six letters.").max(64,"The email must contain a maximum of 64 characters.").required("Email is required.").trim().matches(/^[a-zA-Z0-9]+[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9]+$/,"Email is not valid."),password:r.Z_().required("Password is required.").min(8,"The password must contain a minimum of 8 characters.").max(64,"The password must contain a maximum of 64 characters."),repeatPassword:r.Z_().required("Please repeat your password.").oneOf([r.iH("password"),null],"Passwords must match.")}),f=()=>{const s=(0,d.I0)(),e=(0,i.s0)(),{showPasswords:a,togglePasswordVisibility:r}=(0,p.r)(["password1","password2"]);return(0,h.jsx)(u.tz,{children:(0,h.jsxs)(c.Yb,{children:[(0,h.jsx)(c.Dx,{children:"Sign Up"}),(0,h.jsx)(w.Z,{}),(0,h.jsx)(t.J9,{initialValues:{email:"",password:"",repeatPassword:""},onSubmit:(a,r)=>{let{email:t,password:i,repeatPassword:d}=a,{resetForm:p}=r;i===d?s((0,n.yY)({email:t,password:i})).unwrap().then((a=>{p(),s((0,l.a)(a.token)),o.Notify.success("Welcome aboard! You're now officially registered.",{timeout:1e3}),e("/")})).catch((s=>{o.Notify.failure(s,{timeout:1e3})})):o.Notify.failure("Passwords do not match",{timeout:1e3})},validationSchema:x,children:s=>{let{errors:e,touched:o}=s;return(0,h.jsxs)(t.l0,{children:[(0,h.jsxs)(c.__,{$error:e.email&&o.email,children:["Enter your email",(0,h.jsx)(t.gN,{autoComplete:"off",name:"email",type:"email",placeholder:"E-mail"}),(0,h.jsx)(c.BD,{name:"email",component:"span"})]}),(0,h.jsxs)(c.__,{$error:e.password&&o.password,children:["Enter your password",(0,h.jsx)(t.gN,{autoComplete:"off",name:"password",type:a.password1?"text":"password",placeholder:"Password"}),(0,h.jsx)(m.S,{showPassword:a.password1,onToggle:()=>r("password1")}),(0,h.jsx)(c.BD,{name:"password",component:"span"})]}),(0,h.jsxs)(c.__,{$error:e.repeatPassword&&o.repeatPassword,children:["Repeat password",(0,h.jsx)(t.gN,{$error:e.repeatPassword&&o.repeatPassword,autoComplete:"off",type:a.password2?"text":"password",name:"repeatPassword",placeholder:"Repeat password"}),(0,h.jsx)(m.S,{showPassword:a.password2,onToggle:()=>r("password2")}),(0,h.jsx)(c.BD,{name:"repeatPassword",component:"span"})]}),(0,h.jsx)(c.Ck,{type:"submit",children:"Sign Up"})]})}}),(0,h.jsx)(c.EG,{to:"/signin",children:"Sign in"})]})})},j=()=>(0,h.jsx)(f,{})}}]);
//# sourceMappingURL=787.9915226f.chunk.js.map